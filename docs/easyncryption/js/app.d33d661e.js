(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function s(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d0aed93":"dffdb686"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/easyncryption/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var f=l;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t,n){e.exports=n("56d7")},"2bc1":function(e,t,n){},"2fc4":function(e,t,n){},"3ad4":function(e,t,n){"use strict";n("ab59")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"easyncryption"}},[n("nav-bar",{attrs:{id:"nav"}}),n("router-view",{attrs:{id:"body"}}),n("footer-bar",{attrs:{id:"footer"}}),e.hasAccepted?e._e():n("modal",{scopedSlots:e._u([{key:"header",fn:function(){return[n("p",{staticClass:"modal-card-title"},[e._v("Accept Responsibility")])]},proxy:!0},{key:"body",fn:function(){return[e._v(" The developer of this site takes no responsibility for incorrect or poorly encrypted files using this application. It is up to the user to ensure that all files are encrypted correctly and meet their standards. Before using the user should have a good understanding of ecryption methods and how to ensure that files are encrypted correctly. "),n("br"),n("br"),e._v(" By using this app I accept all responsibilities. ")]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"button is-success",on:{click:e.accept}},[e._v("Accept")])]},proxy:!0}],null,!1,1595991811)})],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"nav"},[n("router-link",{directives:[{name:"hide",rawName:"v-hide",value:e.home,expression:"home"}],staticClass:"nav-button",attrs:{to:{name:"home"}}},[n("span",{staticClass:"icon has-text-white"},[n("i",{staticClass:"fas fa-arrow-left"})])])],1)},o=[],c=(n("b0c0"),{name:"Nav",computed:{home:function(){return"home"===this.$route.name}}}),l=c,u=(n("752d"),n("2877")),f=Object(u["a"])(l,s,o,!1,null,"6f98d4dd",null),d=f.exports,p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"has-text-centered has-text-white"},[n("a",{attrs:{href:"https://github.com/jonathongardner/easyncryption"}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fab fa-github"})]),e._v(" Source ")])])}],h={name:"Footer",computed:{notHome:function(){return"home"!==this.$route.name}}},m=h,v=Object(u["a"])(m,p,y,!1,null,"4c4f80f3",null),b=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:e.close}}),n("div",{staticClass:"modal-content"},[n("header",{staticClass:"modal-card-head"},[e._t("header"),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:e.close}})],2),n("section",{staticClass:"modal-card-body"},[e._t("body")],2),n("footer",{staticClass:"modal-card-foot"},[e._t("footer")],2)])])},k=[],_={name:"Modal",methods:{close:function(){this.$emit("close")}}},C=_,x=Object(u["a"])(C,g,k,!1,null,"9da6c058",null),w=x.exports,O={name:"App",components:{NavBar:d,FooterBar:b,Modal:w},data:function(){return{hasAccepted:!1}},methods:{accept:function(){localStorage.setItem("acceptedResponsibility",!0),this.hasAccepted=!0}},created:function(){this.hasAccepted=localStorage.getItem("acceptedResponsibility")}},j=O,K=(n("5c0b"),Object(u["a"])(j,a,i,!1,null,null,null)),E=K.exports,F=(n("d3b7"),n("8c4f")),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("router-link",{staticClass:"button",attrs:{to:{name:"generate-key"}}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-key"})]),n("span",[e._v("Generate key")])])],1),n("div",[n("router-link",{staticClass:"button",attrs:{to:{name:"encrypt"}}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-lock"})]),n("span",[e._v("Encrypt files")])])],1),n("div",[n("router-link",{staticClass:"button",attrs:{to:{name:"decrypt"}}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-unlock"})]),n("span",[e._v("Decrypt files")])])],1)])},S=[],R={name:"HomeNavigation"},P=R,I=Object(u["a"])(P,$,S,!1,null,"39eec778",null),A=I.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("error-message",{model:{value:e.error,callback:function(t){e.error=t},expression:"error"}}),n("form",{staticClass:"field has-addons",on:{submit:e.stopSubmit}},[n("p",{staticClass:"control"},[n("my-select",{attrs:{options:e.encryptions,disabled:e.loading},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),n("p",{staticClass:"control is-expanded"},[n("my-input",{attrs:{disabled:e.loading,placeholder:"Identifier"},model:{value:e.identifier,callback:function(t){e.identifier=t},expression:"identifier"}})],1),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-success",class:{"is-loading":e.loading},attrs:{disabled:e.disableGenerate,type:"submit"},on:{click:e.generateKey}},[e._v(" Generate ")])])]),n("files",{attrs:{files:e.files}})],1)},L=[],M=(n("4de4"),n("d81d"),n("07ac"),n("5530")),B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.value?n("div",{staticClass:"notification is-warning"},[n("button",{staticClass:"delete",on:{click:e.close}}),e._v(" "+e._s(e.value)+" ")]):e._e()},N=[],T={name:"ErrorMessage",props:{value:{type:String,required:!0}},methods:{close:function(){this.$emit("input","")}}},q=T,U=Object(u["a"])(q,B,N,!1,null,"2e0b92f5",null),J=U.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{disabled:e.disabled,required:e.required},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?n:n[0]}}},e._l(e.options,(function(t,r){return n("option",{key:r,attrs:{disabled:t.disabled},domProps:{value:t.value}},[e._v(" "+e._s(e._f("display")(t))+" ")])})),0)])},V=[],H={name:"MySelect",props:{value:{type:String,required:!0},options:{type:Array,required:!0},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,default:!1}},filters:{display:function(e){return e.label||e.value}},computed:{selected:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},z=H,W=Object(u["a"])(z,G,V,!1,null,"7779e4a2",null),Y=W.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{staticClass:"input",attrs:{type:e.type,disabled:e.disabled,name:e.name,placeholder:e.placeholder,autocomplete:e.autocomplete,required:e.required},domProps:{value:e.value},on:{input:e.input}})},X=[],Z={name:"MyInput",components:{},props:{value:{required:!0},placeholder:{type:String,default:null},autocomplete:{type:String,default:null},name:{type:String,default:null},type:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},methods:{input:function(e){this.$emit("input",e.srcElement.value)}}},ee=Z,te=Object(u["a"])(ee,Q,X,!1,null,"3c3a8881",null),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.hasClearListener?n("div",{staticClass:"reset-button"},[e.anyFiles?n("button",{staticClass:"secret-button is-size-6",on:{click:e.clearFiles}},[e._v(" Clear ")]):e._e()]):e._e(),n("div",{staticClass:"files has-text-centered"},[e._l(e.files,(function(t){return[e.hasDelete?n("file-el",{key:t.id,attrs:{file:t},on:{delete:e.deleteFile}}):n("file-el",{key:t.id,attrs:{file:t}})]}))],2)])},ae=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-file"},[e.hasDelete?n("button",{staticClass:"delete",on:{click:e.deleteThis}}):e._e(),n("a",{attrs:{href:e.file.dataURL,download:e.file.downloadFilename||e.file.filename}},[e.error?n("file-overlay",[n("p",{staticClass:"has-text-white\t"},[e._v(" "+e._s(e._f("errorMessage")(e.file))+" ")])]):e.loading?n("file-overlay",[n("progress",{staticClass:"progress is-small is-dark",attrs:{max:"100"}})]):n("file-overlay",{staticClass:"my-hover"},[n("span",{staticClass:"icon is-small has-text-white\t"},[n("i",{staticClass:"fas fa-download"})])]),e._m(0),n("div",[e._v(" "+e._s(e.file.filename)+" ")]),n("div",[n("span",{staticClass:"icon"},[n("i",{staticClass:"fas",class:e.iconClass})])])],1)])},se=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image"},[n("img",{attrs:{src:"/img/file.png",alt:"file"}})])}],oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"overlay"},[n("div",{staticClass:"item"},[e._t("default")],2)])},ce=[],le={name:"FileOverlay"},ue=le,fe=(n("f345"),Object(u["a"])(ue,oe,ce,!1,null,"8489b1f8",null)),de=fe.exports,pe={name:"File",components:{FileOverlay:de},props:{file:{type:Object,required:!0}},filters:{errorMessage:function(e){var t=e.type;return"encryption"===t?"Could not encrypt file, try again. If this continues, key could be corrupt or file could be to large.":"decryption"===t?"Could not decrypt file, try again. If this continues ensure you are using the decryption key matching the encrpytion key.":"generate-key"===t?"Could not generate key, try again.":""}},computed:{hasDelete:function(){return this.$listeners&&this.$listeners.delete},iconClass:function(){var e=this.file.type;return"encryption"===e?"fa-lock":"decryption"===e?"fa-unlock":"generate-key"===e?"fa-key":""},loading:function(){return!this.file.dataURL},error:function(){return this.file.error}},methods:{deleteThis:function(e){e.preventDefault(),this.$emit("delete",this.file)}}},ye=pe,he=(n("a9f3"),Object(u["a"])(ye,ie,se,!1,null,"9e1b4cc0",null)),me=he.exports,ve={name:"Files",components:{FileEl:me},props:{files:{type:Array,required:!0}},computed:{hasDelete:function(){return this.$listeners&&this.$listeners.delete},anyFiles:function(){return this.files.length},hasClearListener:function(){return this.$listeners&&this.$listeners.clear}},methods:{clearFiles:function(){this.$emit("clear")},deleteFile:function(e){this.$emit("delete",e)}}},be=ve,ge=(n("a7ed"),Object(u["a"])(be,re,ae,!1,null,"8919e456",null)),ke=ge.exports,_e=(n("99af"),n("a15b"),n("fb6a"),n("ac1f"),n("5319"),n("1276"),n("4f96")),Ce=n("2909"),xe=(n("96cf"),n("1da1")),we=n("ade3"),Oe=(n("a623"),n("45fc"),n("8a79"),n("53ca")),je=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(n){t(n.target.result,e)},n.readAsDataURL(e)}))},Ke=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(n){t(n.target.result,e)},n.readAsText(e)}))};function Ee(e){try{var t=JSON.parse(e);if(t&&"object"===Object(Oe["a"])(t))return t}catch(n){}return null}var Fe,$e=function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.every((function(e){return!t.name.endsWith(e)}))){e.next=2;break}throw{message:"Invalid file."};case 2:return e.next=4,Ke(t).then(Ee);case 4:if(a=e.sent,a){e.next=7;break}throw{message:"Invalid file format."};case 7:if(!r.some((function(e){return!Object.prototype.hasOwnProperty.call(a,e)}))){e.next=9;break}throw{message:"Invalid keys"};case 9:if(a.filename=t.name,a.encryption=nt[a.type],a.encryption){e.next=13;break}throw{message:"Invalid encryption type"};case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Se={type:"nothing",ignore:!0,label:"No",warn:function(){return"No encryption method selected. Are you sure you want to continue?"},generateKey:function(){return Promise.resolve({private:{encryptionKey:"",decryptionKey:""}})},encrypt:function(e,t){return Promise.resolve([t])},decrypt:function(e,t){return Promise.resolve(t[0])},algorithm:"none"},Re=(n("25f0"),n("3835")),Pe=n("5c1a"),Ie=n.n(Pe),Ae=Ie.a.util,De=Ae.encode64,Le=Ae.decode64,Me=Ae.createBuffer,Be=Ie.a.random.getBytesSync,Ne=Ie.a.cipher,Te=Ne.createCipher,qe=Ne.createDecipher,Ue={type:"aes",label:"AES",generateKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?32:t,r={key:De(Be(n)),iv:De(Be(n))};return Promise.resolve({private:{encryptionKey:r,decryptionKey:r}})},encrypt:function(e,t){var n=e.encryptionKey,r=Le(n.key),a=Le(n.iv),i=n.mode,s=void 0===i?"AES-CBC":i,o=Me(t,"utf8"),c=Te(s,r);return c.start({iv:a}),c.update(o),c.finish(),Promise.resolve([De(c.output.getBytes())])},decrypt:function(e,t){var n=e.decryptionKey,r=Object(Re["a"])(t,1),a=r[0],i=Le(n.key),s=Le(n.iv),o=n.mode,c=void 0===o?"AES-CBC":o,l=Me(Le(a)),u=qe(c,i);return u.start({iv:s}),u.update(l),u.finish(),Promise.resolve(u.output.toString("utf8"))},algorithm:"symmetric"},Je=Ie.a.pki,Ge=Je.rsa.generateKeyPair,Ve=Je.publicKeyToPem,He=Je.publicKeyFromPem,ze=Je.privateKeyToPem,We=Je.privateKeyFromPem,Ye=Ie.a.util,Qe=Ye.encodeUtf8,Xe=Ye.encode64,Ze=Ye.decode64,et={type:"rsa",label:"RSA",generateKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.length,n=void 0===t?4096:t;return new Promise((function(e,t){Ge({bits:n,workers:2},(function(n,r){var a=r.publicKey,i=r.privateKey;if(n)t(n);else{var s=Ve(a);e({private:{decryptionKey:ze(i),encryptionKey:s},public:{encryptionKey:s}})}}))}))},encrypt:function(e,t){var n=e.encryptionKey,r=He(n),a=Qe(t);return Promise.resolve([Xe(r.encrypt(a))])},decrypt:function(e,t){var n=e.decryptionKey,r=Object(Re["a"])(t,1),a=r[0],i=We(n),s=Ze(a);return Promise.resolve(i.decrypt(s))},algorithm:"assymmetric"},tt=(n("0481"),n("4069"),n("3ca3"),n("ddb0"),{type:"rsa+aes",label:"RSA+AES",generateKey:et.generateKey,encrypt:function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.encryptionKey,e.next=3,Ue.generateKey();case 3:return a=e.sent,i=a.private.encryptionKey,s=JSON.stringify(i),e.next=8,Promise.all([et.encrypt({encryptionKey:r},s),Ue.encrypt({encryptionKey:i},n)]).then((function(e){return e.flat()}));case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),decrypt:function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.decryptionKey,a=Object(Re["a"])(n,2),i=a[0],s=a[1],e.next=4,et.decrypt({decryptionKey:r},[i]);case 4:return o=e.sent,c=JSON.parse(o),e.next=8,Ue.decrypt({decryptionKey:c},[s]);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),algorithm:et.algorithm}),nt=(Fe={},Object(we["a"])(Fe,Se.type,Se),Object(we["a"])(Fe,Ue.type,Ue),Object(we["a"])(Fe,et.type,et),Object(we["a"])(Fe,tt.type,tt),Fe),rt=function(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},at=function(e){return"data:text/plain;charset=utf-8,".concat(encodeURIComponent(e))},it=function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.encryption.encrypt,e.next=3,je(n);case 3:return a=e.sent,e.next=6,r(t,a);case 6:return i=e.sent,s="0.1.0",o="".concat(n.name,".enc"),console.log(s),c=at([s].concat(Object(Ce["a"])(i)).join("\n")),rt(o,c),e.abrupt("return",{encFilename:o,encDataURL:c});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=Object(xe["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.encryption.decrypt,e.next=3,Ke(n).then((function(e){return e.split("\n")}));case 3:return a=e.sent,i=Object(_e["a"])(a),s=i[0],o=i.slice(1),console.log(s),e.next=10,r(t,o);case 10:return c=e.sent,l=n.name.replace(/.enc$/,""),rt(l,c),e.abrupt("return",{filename:l,dataURL:c});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot={name:"GenerateKey",components:{ErrorMessage:J,MySelect:Y,MyInput:ne,Files:ke},data:function(){return{loading:!1,error:"",type:"rsa+aes",identifier:"",encryptions:Object.values(nt).filter((function(e){return!e.ignore})).map((function(e){return{value:e.type,label:e.label}})),files:[]}},computed:{disableGenerate:function(){return!this.type}},methods:{stopSubmit:function(e){e.preventDefault()},generateKey:function(){var e=this;if(!this.disableGenerate){this.files=[],this.error="",this.loading=!0;var t=nt[this.type],n=this.identifier?this.identifier:"".concat(t.type,"-EasyNCRYPTION");t.generateKey().then((function(r){if(r.private){var a=JSON.stringify(Object(M["a"])({type:t.type,identifier:n},r.private));e.files.push({filename:"".concat(n,".enk"),dataURL:at(a),type:"generate-key"})}if(r.public){var i=JSON.stringify(Object(M["a"])({type:t.type,identifier:n},r.public));e.files.push({filename:"".concat(n,".enk.pub"),dataURL:at(i),type:"generate-key"})}})).catch((function(t){e.error=t.message})).then((function(){e.loading=!1}))}}}},ct=ot,lt=Object(u["a"])(ct,D,L,!1,null,"91e2f9a2",null),ut=lt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select-enk",{attrs:{value:e.encKey},on:{input:e.keyChanged}}),n("select-or-drag-files",{directives:[{name:"hide",rawName:"v-hide",value:e.noEncKey,expression:"noEncKey"}],on:{add:e.addEncFiles},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select files to Encrypt or drag them here ")]},proxy:!0},{key:"body",fn:function(){return[n("files",{attrs:{files:e.files},on:{clear:e.clearFiles,delete:e.deleteFile}})]},proxy:!0}])})],1)},dt=[],pt=(n("c740"),n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file is-centered",class:{"has-name":e.hasValue}},[n("error-message",{model:{value:e.error,callback:function(t){e.error=t},expression:"error"}}),n("label",{staticClass:"file-label"},[n("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file",name:e.type,accept:e.accept,disabled:e.loading},on:{change:e.addFile}}),n("span",{staticClass:"file-cta"},[e.loading?n("span",{staticClass:"file-icon"},[n("i",{staticClass:"fas fa-spinner fa-spin"})]):n("span",{staticClass:"file-icon"},[n("i",{staticClass:"fas fa-upload"})]),n("span",{staticClass:"file-label"},[e._v(" Select "+e._s(e.type)+" key file ")])]),e.hasValue?n("span",{staticClass:"file-name has-text-white",attrs:{title:e.nameText}},[e._v(" "+e._s(e.nameText)+" ")]):e._e()])],1)}),yt=[],ht={name:"SelectEnk",components:{ErrorMessage:J},props:{value:{type:Object,required:!0},decryption:{type:Boolean,default:!1}},data:function(){return{loading:!1,error:""}},computed:{nameText:function(){return this.value?"".concat(this.encLabel," ").concat(this.type," using ").concat(this.value.filename):""},hasValue:function(){return!!this.value.filename},extensions:function(){return this.decryption?[".enk"]:[".enk",".enk.pub"]},accept:function(){return this.extensions.join(",")},type:function(){return this.decryption?"decryption":"encryption"},encLabel:function(){return this.value.type?this.value.encryption.label:""},keyKeys:function(){return this.decryption?["type","identifier","decryptionKey"]:["type","identifier","encryptionKey"]}},methods:{addFile:function(){var e=this;return Object(xe["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,e.error="",n=e.$refs.fileInput.files[0],!n){t.next=8;break}return t.next=6,e.parseEnkFile(n);case 6:r=t.sent,e.$emit("input",r);case 8:e.$refs.fileInput.value="",e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},parseEnkFile:function(e){var t=this;return $e(e,this.extensions,this.keyKeys).catch((function(e){return t.error=e.message,{}}))}}},mt=ht,vt=Object(u["a"])(mt,pt,yt,!1,null,"6ed3059c",null),bt=vt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-or-drop has-text-white has-text-centered",on:{drop:e.filesDropped,dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[n("label",{staticClass:"my-file-label",attrs:{for:"fileInput"}},[n("input",{ref:"fileInput",staticClass:"file-input",attrs:{id:"fileInput",type:"file",accept:e.acceptJ,multiple:!0,disabled:e.disabled},on:{change:e.addFiles}}),n("span",[e.loading?n("span",[n("i",{staticClass:"fas fa-spinner fa-spin"})]):n("span",[n("i",{staticClass:"fas fa-upload"})]),n("span",[e._t("label")],2)])]),e._t("body")],2)},kt=[],_t={name:"SelectOrDragFiles",props:{accept:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{acceptJ:function(){return this.accept.join(",")}},methods:{addFiles:function(){var e=this.$refs.fileInput.files;this.$emit("add",e),this.$refs.fileInput.value=""},filesDropped:function(e){console.log(e),e.preventDefault(),this.$emit("add",e.dataTransfer.files)}}},Ct=_t,xt=(n("3ad4"),Object(u["a"])(Ct,gt,kt,!1,null,"41b35f6e",null)),wt=xt.exports,Ot={name:"Encrypt",components:{SelectEnk:bt,SelectOrDragFiles:wt,Files:ke},data:function(){return{encKey:{},files:[]}},computed:{noEncKey:function(){return!this.encKey.filename}},methods:{keyChanged:function(e){this.files=[],this.encKey=e},addEncFiles:function(e){var t=this;e.forEach((function(e){var n=Math.random();t.files.push({filename:e.name,id:n,type:"encryption"}),it(t.encKey,e).then((function(e){var r=e.encFilename,a=e.encDataURL;t.updateFile(n,{downloadFilename:r,dataURL:a})})).catch((function(e){console.log(e),t.updateFile(n,{error:e.message})}))}))},updateFile:function(e,t){var n=this.files.findIndex((function(t){return t.id===e}));-1!==n&&this.$set(this.files,n,Object.assign({},this.files[n],t))},clearFiles:function(){this.files=[]},deleteFile:function(e){var t=e.id,n=this.files.findIndex((function(e){return e.id===t}));-1!==n&&this.$delete(this.files,n)}}},jt=Ot,Kt=Object(u["a"])(jt,ft,dt,!1,null,"3170b156",null),Et=Kt.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("select-enk",{attrs:{value:e.encKey,decryption:""},on:{input:e.keyChanged}}),n("select-or-drag-files",{directives:[{name:"hide",rawName:"v-hide",value:e.noEncKey,expression:"noEncKey"}],attrs:{accept:[".enc"]},on:{add:e.addEncFiles},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select files to Decrypt or drag them here ")]},proxy:!0},{key:"body",fn:function(){return[n("files",{attrs:{files:e.files},on:{clear:e.clearFiles,delete:e.deleteFile}})]},proxy:!0}])})],1)},$t=[],St={name:"Decrypt",components:{SelectEnk:bt,SelectOrDragFiles:wt,Files:ke},data:function(){return{encKey:{},files:[]}},computed:{noEncKey:function(){return!this.encKey.filename}},methods:{keyChanged:function(e){this.files=[],this.encKey=e},addEncFiles:function(e){var t=this;e.forEach((function(e){var n=Math.random();t.files.push({filename:e.name,id:n,type:"decryption"}),st(t.encKey,e).then((function(e){var r=e.filename,a=e.dataURL;t.updateFile(n,{downloadFilename:r,dataURL:a})})).catch((function(e){console.log(e),t.updateFile(n,{error:e.message})}))}))},updateFile:function(e,t){var n=this.files.findIndex((function(t){return t.id===e}));-1!==n&&this.$set(this.files,n,Object.assign({},this.files[n],t))},clearFiles:function(){this.files=[]},deleteFile:function(e){var t=e.id,n=this.files.findIndex((function(e){return e.id===t}));-1!==n&&this.$delete(this.files,n)}}},Rt=St,Pt=Object(u["a"])(Rt,Ft,$t,!1,null,null,null),It=Pt.exports;r["a"].use(F["a"]);var At=[{path:"/",name:"home",component:A},{path:"/generate-key",name:"generate-key",component:ut},{path:"/encrypt",name:"encrypt",component:Et},{path:"/decrypt",name:"decrypt",component:It},{path:"/not-found",name:"not-found",component:function(){return n.e("chunk-2d0aed93").then(n.bind(null,"0c8b"))}},{path:"*",redirect:"not-found"}],Dt=new F["a"]({base:"/easyncryption/",routes:At}),Lt=Dt;n("2fc4");r["a"].config.productionTip=!1;var Mt=function(e,t){var n=e.style;n.visibility=t.value?"hidden":""};r["a"].directive("hide",{bind:Mt,update:Mt}),new r["a"]({router:Lt,render:function(e){return e(E)}}).$mount("#app")},5989:function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("9c0c")},"752d":function(e,t,n){"use strict";n("2bc1")},"812e":function(e,t,n){},8142:function(e,t,n){},"9c0c":function(e,t,n){},a7ed:function(e,t,n){"use strict";n("812e")},a9f3:function(e,t,n){"use strict";n("5989")},ab59:function(e,t,n){},f345:function(e,t,n){"use strict";n("8142")}});
//# sourceMappingURL=app.d33d661e.js.map